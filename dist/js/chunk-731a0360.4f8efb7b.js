(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-731a0360"],{"0383":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Row",[s("Col",{attrs:{span:"2"}},[e._v(" ")]),s("Col",{attrs:{span:"8"}},[s("Input",{attrs:{search:"","enter-button":"",placeholder:"请输入要查询的供应商地址..."},on:{"on-search":e.searchSupplierAddress}})],1),s("Col",{attrs:{span:"2"}},[e._v(" ")]),s("Col",{attrs:{span:"4"}},[s("RadioGroup",{attrs:{type:"button"},on:{"on-change":e.searchSupplierStatus},model:{value:e.btnSupplierStatus,callback:function(t){e.btnSupplierStatus=t},expression:"btnSupplierStatus"}},[s("Radio",{attrs:{label:"全部"}}),s("Radio",{attrs:{label:"正常"}}),s("Radio",{attrs:{label:"异常"}})],1)],1)],1),s("Row",[s("Col",{attrs:{span:"24"}},[[s("Table",{attrs:{loading:e.loading,columns:e.columns10,height:"388",data:e.supplierInfo}})],s("div",{staticStyle:{float:"right"},attrs:{hidden:e.page_hidden}},[s("Page",{attrs:{total:e.page_total,current:1},on:{"on-change":function(t){e.changePage(t)}}})],1)],2)],1),s("Modal",{attrs:{title:"编辑供应商信息",width:"600"},on:{"on-ok":e.btn_update},model:{value:e.show_edit,callback:function(t){e.show_edit=t},expression:"show_edit"}},[s("Form",{attrs:{model:e.supplierUpdateForm,"label-position":"left","label-width":100}},[s("FormItem",{attrs:{label:"供应商名称"}},[s("Input",{attrs:{placeholder:"请填写供应商名称...."},model:{value:e.supplierUpdateForm.supplierName,callback:function(t){e.$set(e.supplierUpdateForm,"supplierName",t)},expression:"supplierUpdateForm.supplierName"}})],1),s("FormItem",{attrs:{label:"供应商地址"}},[s("Input",{attrs:{placeholder:"请填写供应商地址...."},model:{value:e.supplierUpdateForm.supplierAddress,callback:function(t){e.$set(e.supplierUpdateForm,"supplierAddress",t)},expression:"supplierUpdateForm.supplierAddress"}})],1),s("FormItem",{attrs:{label:"供应商电话"}},[s("Input",{attrs:{placeholder:"请填写供应商电话...."},model:{value:e.supplierUpdateForm.supplierTel,callback:function(t){e.$set(e.supplierUpdateForm,"supplierTel",t)},expression:"supplierUpdateForm.supplierTel"}})],1),s("FormItem",{attrs:{label:"供应商备注"}},[s("Input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入供应商备注...."},model:{value:e.supplierUpdateForm.supplierRemarks,callback:function(t){e.$set(e.supplierUpdateForm,"supplierRemarks",t)},expression:"supplierUpdateForm.supplierRemarks"}})],1)],1)],1),s("Modal",{attrs:{width:"360"},model:{value:e.del_show,callback:function(t){e.del_show=t},expression:"del_show"}},[s("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[s("Icon",{attrs:{type:"ios-information-circle"}}),s("span",[e._v("删除提醒？")])],1),s("div",{staticStyle:{"text-align":"center"}},[s("p",[e._v("您清楚,您现在所做的操作吗？")]),s("p",{staticStyle:{color:"red"}},[e._v("本系统没有数据恢复功能哦")]),s("p"),s("p",[e._v("您确定要删除吗？")])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"error",size:"large",long:"",loading:e.modal_loading},on:{click:e.del}},[e._v("确定删除")])],1)])],1)},p=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Row",{staticClass:"expand-row"},[s("span",{staticStyle:{color:"coral"}},[e._v("备注信息：")]),s("Col",{attrs:{span:"24"}},[s("span",{staticClass:"expand-value"},[e._v(e._s(e.row.supplierRemarks))])])],1)],1)},i=[],l=(s("cadf"),s("551c"),s("097d"),{props:{row:Object}}),o=l,n=(s("1e2d"),s("2877")),u=Object(n["a"])(o,r,i,!1,null,"2b8da8de",null);u.options.__file="tableRowExpand.vue";var d=u.exports,c={components:{expandRow:d},methods:{changePage:function(e){var t=this;this.btnSupplierStatus="全部",axios.get(this.URL+"/supplier",{params:{page:e}}).then(function(e){t.supplierInfo=e.data.data,t.loading=!1}),axios.get(this.URL+"/supplier/getTotal").then(function(e){t.page_total=e.data.data}),this.page_hidden=!1},searchSupplierAddress:function(e){var t=this;if(0==e.trim().length)return this.changePage(),!1;axios.get(this.URL+"supplier/supplierAddress",{params:{supplierAddress:e}}).then(function(e){202==e.data.code?(t.supplierInfo=e.data.data,t.page_hidden=!0):(t.$Message.success(e.data.data),t.supplierInfo=[],t.page_hidden=!0)})},searchSupplierStatus:function(e){var t=this,s=-1;if(s="正常"==e?1:"异常"==e?0:2,2==s)return this.changePage(),!1;axios.get(this.URL+"supplier/supplierStatus",{params:{supplierStatus:s}}).then(function(e){202==e.data.code?(t.supplierInfo=e.data.data,t.page_hidden=!0):(t.$Message.success(e.data.data),t.supplierInfo=[],t.page_hidden=!0)})},supplierEdit:function(e){this.show_edit=!0,this.supplierUpdateForm.supplierId=e.supplierId,this.supplierUpdateForm.supplierName=e.supplierName,this.supplierUpdateForm.supplierAddress=e.supplierAddress,this.supplierUpdateForm.supplierTel=e.supplierTel,this.supplierUpdateForm.supplierRemarks=e.supplierRemarks},changeStatus:function(e,t){var s=this;this.loading=!0,axios.put(this.URL+"supplier/"+e+"/"+t).then(function(e){"202"==e.data.code?s.$Message.success(e.data.data):alert("出现异常,请联系管理员。"),s.loading=!1})},remove:function(e){this.supplierId=e,this.del_show=!0},del:function(){var e=this,t=this;this.supplierId>0&&(this.modal_loading=!0,axios.delete(this.URL+"supplier/"+this.supplierId).then(function(s){202==s.data.code?(e.supplierInfo=e.supplierInfo.filter(function(e){return e.supplierId!=t.supplierId}),e.del_show=!1,e.$Message.success(s.data.data)):(e.del_show=!1,e.$Message.success(s.data.data))})),this.modal_loading=!1},btn_update:function(){var e=this;axios.put(this.URL+"supplier",this.supplierUpdateForm,{"Content-Type":"application/json"}).then(function(t){t.data.code,e.$Message.success(t.data.data)}),this.changePage()}},created:function(){this.changePage()},data:function(){var e=this;return{URL:"http://localhost:8888/",btnSupplierStatus:"全部",page_hidden:!1,del_show:!1,show_edit:!1,modal_loading:!1,loading:!0,supplierId:0,page_total:0,columns10:[{type:"expand",width:50,render:function(e,t){return e(d,{props:{row:t.row}})}},{title:"供应商名称",key:"supplierName"},{title:"供应商地址",key:"supplierAddress"},{title:"联系电话",key:"supplierTel"},{title:"状态",key:"supplierStatus",render:function(t,s){return t("i-switch",{props:{size:"large",value:s.row.supplierStatus},scopedSlots:{open:function(){return t("span","正常")},close:function(){return t("span","异常")}},on:{"on-change":function(t){e.changeStatus(s.row.supplierId,t)}}})}},{title:"操作",align:"center",render:function(t,s){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.supplierEdit(s.row)}}},"编辑"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.remove(s.row.supplierId)}}},"删除")])}}],supplierInfo:[],supplierUpdateForm:{supplierId:0,supplierName:"",supplierAddress:"",supplierTel:"",supplierRemarks:""}}}},h=c,m=(s("5cc1"),Object(n["a"])(h,a,p,!1,null,null,null));m.options.__file="supplierInfo.vue";t["default"]=m.exports},"1e2d":function(e,t,s){"use strict";var a=s("4b6c"),p=s.n(a);p.a},"4b6c":function(e,t,s){},"5cc1":function(e,t,s){"use strict";var a=s("c820"),p=s.n(a);p.a},c820:function(e,t,s){}}]);
//# sourceMappingURL=chunk-731a0360.4f8efb7b.js.map